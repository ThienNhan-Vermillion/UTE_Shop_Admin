{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///D:/2022-2025/HK1_nam4/CacCongNghePhanMemMoi/baiTapNhom/tonghop/Admin/UTEShop_Frontend/my-next-app/src/services/api.services.ts"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_BASE_URL || 'http://localhost:3001';\n\nconsole.log('API Base URL:', API_BASE_URL);\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  timeout: 10000, // 10 seconds timeout\n});\n\n// Auth API\nexport const login = async (username: string, password: string) => {\n  const response = await api.post('/auth/login', { username, password });\n  return response.data;\n};\n\nexport const checkUsernameAvailable = async (username: string) => {\n  const response = await api.get(`/auth/check-username?username=${username}`);\n  return response.data;\n};\n\nexport const checkEmailAvailable = async (email: string) => {\n  const response = await api.get(`/auth/check-email?email=${email}`);\n  return response.data;\n};\n\nexport const registerRequestOtp = async (userData: any) => {\n  const response = await api.post('/auth/register/request-otp', userData);\n  return response.data;\n};\n\nexport const registerConfirm = async (otp: string, userData: any) => {\n  const response = await api.post('/auth/register/confirm', { otp, ...userData });\n  return response.data;\n};\n\nexport const forgotPassword = async (email: string) => {\n  const response = await api.post('/auth/forgot-password', { email });\n  return response.data;\n};\n\nexport const verifyForgotOtp = async (email: string, otp: string) => {\n  // Endpoint này không tồn tại trong backend, sẽ được xử lý trong resetPassword\n  throw new Error('Use resetPassword instead');\n};\n\nexport const resetPassword = async (email: string, otp: string, newPassword: string, confirmPassword: string) => {\n  const response = await api.post('/auth/reset-password', {\n    email,\n    otp,\n    newPassword,\n    confirmPassword,\n  });\n  return response.data;\n};\n\n// Products API\nexport const getProducts = async () => {\n  try {\n    console.log('Fetching products from:', API_BASE_URL + '/products');\n    const response = await api.get('/products');\n    console.log('Products response:', response.data);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching products:', error);\n    throw error;\n  }\n};\n\nexport const getProduct = async (id: number) => {\n  try {\n    const response = await api.get(`/products/${id}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching product:', error);\n    throw error;\n  }\n};\n\nexport const createProduct = async (productData: any) => {\n  try {\n    const response = await api.post('/products', productData);\n    return response.data;\n  } catch (error) {\n    console.error('Error creating product:', error);\n    throw error;\n  }\n};\n\nexport const updateProduct = async (id: number, productData: any) => {\n  try {\n    console.log('Updating product:', id, productData);\n    const response = await api.patch(`/products/${id}`, productData);\n    console.log('Update response:', response.data);\n    return response.data;\n  } catch (error: any) {\n    console.error('Error updating product:', error);\n    console.error('Error response:', error.response?.data);\n    throw error;\n  }\n};\n\nexport const hideProduct = async (id: number) => {\n  try {\n    const response = await api.patch(`/products/${id}/hide`);\n    return response.data;\n  } catch (error) {\n    console.error('Error hiding product:', error);\n    throw error;\n  }\n};\n\nexport const showProduct = async (id: number) => {\n  try {\n    const response = await api.patch(`/products/${id}/show`);\n    return response.data;\n  } catch (error) {\n    console.error('Error showing product:', error);\n    throw error;\n  }\n};\n\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 255, "column": 0}, "map": {"version":3,"sources":["file:///D:/2022-2025/HK1_nam4/CacCongNghePhanMemMoi/baiTapNhom/tonghop/Admin/UTEShop_Frontend/my-next-app/src/utils/authStorage.ts"],"sourcesContent":["export const saveAuth = (token: string, user: any) => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.setItem('token', token);\r\n    localStorage.setItem('user', JSON.stringify(user));\r\n  }\r\n};\r\n\r\nexport const getAuth = () => {\r\n  if (typeof window !== 'undefined') {\r\n    const token = localStorage.getItem('token');\r\n    const user = localStorage.getItem('user');\r\n    return {\r\n      token,\r\n      user: user ? JSON.parse(user) : null,\r\n    };\r\n  }\r\n  return { token: null, user: null };\r\n};\r\n\r\nexport const clearAuth = () => {\r\n  if (typeof window !== 'undefined') {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = () => {\r\n  const { token } = getAuth();\r\n  return !!token;\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;AAAO,MAAM,WAAW,CAAC,OAAe;IACtC;;AAIF;AAEO,MAAM,UAAU;IACrB;;IAQA,OAAO;QAAE,OAAO;QAAM,MAAM;IAAK;AACnC;AAEO,MAAM,YAAY;IACvB;;AAIF;AAEO,MAAM,kBAAkB;IAC7B,MAAM,EAAE,KAAK,EAAE,GAAG;IAClB,OAAO,CAAC,CAAC;AACX","debugId":null}},
    {"offset": {"line": 289, "column": 0}, "map": {"version":3,"sources":["file:///D:/2022-2025/HK1_nam4/CacCongNghePhanMemMoi/baiTapNhom/tonghop/Admin/UTEShop_Frontend/my-next-app/src/components/Login.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport { Eye, EyeOff } from 'lucide-react';\nimport { login } from '../services/api.services';\nimport { saveAuth } from '../utils/authStorage';\n\nexport default function Login() {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [error, setError] = useState('');\n  const router = useRouter();\n\n  const handleLogin = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError('');\n\n    try {\n      const response = await login(username, password);\n      const { token, user } = response;\n      saveAuth(token, user);\n      router.push('/');\n    } catch (err: any) {\n      const message = err?.response?.data?.message || err?.message || 'Đăng nhập thất bại';\n      setError(message);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-r from-blue-400 via-blue-500 to-purple-600\">\n      <div className=\"bg-white p-8 rounded-2xl shadow-2xl w-96 max-w-md mx-4\">\n        <h2 className=\"text-3xl font-bold mb-6 text-center text-gray-800\">\n          Đăng nhập\n        </h2>\n        \n        {error && (\n          <div className=\"mb-4 p-3 bg-red-50 text-red-700 rounded-lg border border-red-200\">\n            {error}\n          </div>\n        )}\n\n        <form onSubmit={handleLogin} className=\"space-y-4\">\n          <div>\n            <input\n              type=\"text\"\n              placeholder=\"Username\"\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all\"\n              value={username}\n              onChange={(e) => setUsername(e.target.value)}\n              required\n            />\n          </div>\n          \n          <div className=\"relative\">\n            <input\n              type={showPassword ? 'text' : 'password'}\n              placeholder=\"Password\"\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all pr-12\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n            <button\n              type=\"button\"\n              onClick={() => setShowPassword(!showPassword)}\n              className=\"absolute inset-y-0 right-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors\"\n            >\n              {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\n            </button>\n          </div>\n          \n          <button\n            type=\"submit\"\n            className=\"w-full bg-purple-600 text-white p-3 rounded-lg font-semibold hover:bg-purple-700 transition-colors shadow-lg\"\n          >\n            Đăng nhập\n          </button>\n        </form>\n        \n        <div className=\"mt-4 text-right text-sm\">\n          <a href=\"/forgot-password\" className=\"text-blue-600 hover:text-blue-800 font-medium transition-colors\">\n            Quên mật khẩu?\n          </a>\n        </div>\n        \n        <p className=\"mt-4 text-center text-gray-600\">\n          Chưa có tài khoản?{' '}\n          <a href=\"/register\" className=\"text-blue-600 hover:text-blue-800 font-semibold transition-colors\">\n            Đăng ký\n          </a>\n        </p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,IAAA,2IAAK,EAAC,UAAU;YACvC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,GAAG;YACxB,IAAA,uIAAQ,EAAC,OAAO;YAChB,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAU;YACjB,MAAM,UAAU,KAAK,UAAU,MAAM,WAAW,KAAK,WAAW;YAChE,SAAS;QACX;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAAoD;;;;;;gBAIjE,uBACC,8OAAC;oBAAI,WAAU;8BACZ;;;;;;8BAIL,8OAAC;oBAAK,UAAU;oBAAa,WAAU;;sCACrC,8OAAC;sCACC,cAAA,8OAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,WAAU;gCACV,OAAO;gCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;gCAC3C,QAAQ;;;;;;;;;;;sCAIZ,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAM,eAAe,SAAS;oCAC9B,aAAY;oCACZ,WAAU;oCACV,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,QAAQ;;;;;;8CAEV,8OAAC;oCACC,MAAK;oCACL,SAAS,IAAM,gBAAgB,CAAC;oCAChC,WAAU;8CAET,6BAAe,8OAAC,oNAAM;wCAAC,MAAM;;;;;6DAAS,8OAAC,uMAAG;wCAAC,MAAM;;;;;;;;;;;;;;;;;sCAItD,8OAAC;4BACC,MAAK;4BACL,WAAU;sCACX;;;;;;;;;;;;8BAKH,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBAAE,MAAK;wBAAmB,WAAU;kCAAkE;;;;;;;;;;;8BAKzG,8OAAC;oBAAE,WAAU;;wBAAiC;wBACzB;sCACnB,8OAAC;4BAAE,MAAK;4BAAY,WAAU;sCAAoE;;;;;;;;;;;;;;;;;;;;;;;AAO5G","debugId":null}}]
}